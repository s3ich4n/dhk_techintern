function createSchedule(){let start_at=$('#start-date').val()+' '+$('#start-time').val();let end_at=$('#end-date').val()+' '+$('#end-time').val();let start_at_type=check_datetime_type('start');let end_at_type=check_datetime_type('end');$.post('/schedule/events/',{title:$('#modal-create input[name="title"]').val(),category:$('#modal-create select[name="category"]').val(),author:$('#modal-create input[name="author"]').val(),description:$('#modal-create input[name="description"]').val(),start_at:start_at,end_at:end_at,start_at_type:start_at_type,end_at_type:end_at_type,csrfmiddlewaretoken:$('#modal-create input[name="csrfmiddlewaretoken"]').val()}).done(function(data){console.trace(data);$('#modal-create').modal('hide');$('#calendar').fullCalendar('renderEvent',{id:data['id'],title:data['title'],start:data['start_at'],end:data['end_at'],})}).fail(function(data){$('#modal-create small').text('');$.each(data.responseJSON,function(key,value){$('#modal-create small.'+key+'-invalid').text(value)})})}function check_datetime_type(key){let key_date=$('#'+key+'-date');let key_time=$('#'+key+'-time');if(key_date.val()===''&&key_time.val()===''){return''}else if(key_date.val()!==''&&key_time.val()===''){return'date'}else if(key_date.val()===''&&key_time.val()!==''){return'time'}else if(key_date.val()!==''&&key_time.val()!==''){return'datetime'}}